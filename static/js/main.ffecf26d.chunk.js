(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,a,t){e.exports=t.p+"static/media/profile.926fda93.png"},51:function(e,a,t){e.exports=t(90)},56:function(e,a,t){},57:function(e,a,t){},89:function(e,a,t){e.exports=t.p+"static/media/hoaxify.2dcb4821.png"},90:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(25),s=t.n(c);t(56),t(57),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(33),o=t(5),l=t(27);i.a.use(o.a).init({resources:{en:{translations:{"Sign Up":"Sign Up","Password mismatch":"Password mismatch",Username:"Username","Display Name":"Display Name",Password:"Password","Password Repeat":"Password Repeat",Login:"Login",Logout:"Logout",Users:"Users",Next:"next >",Previous:"< previous","Load Failure":"Load Failure","User not found":"User not found",Edit:"Edit","Change Display Name":"Change Display Name",Save:"Save",Cancel:"Cancel","My Profile":"My Profile","There are no hoaxes":"There are no hoaxes","Load old hoaxes":"Load old hoaxes","There are new hoaxes":"There are new hoaxes","Delete Hoax":"Delete Hoax","Are you sure to delete hoax?":"Are you sure to delete hoax?","Delete My Account":"Delete My Account","Are you sure to delete your account?":"Are you sure to delete your account?"}},aze:{translations:{"Teacher Portal":"M\xfc\u0259llim Portal\u0131","Sign Up":"Qeydiyyatdan Ke\xe7","Password mismatch":"\u015eifr\u0259l\u0259r Eyni Deyil",Username:"\u0130stifad\u0259\xe7i Ad\u0131","Display Name":"Login",Password:"\u015eifr\u0259","Password Repeat":"\u015eifr\u0259yi T\u0259krarla",Login:"Daxil Ol",Logout:"\xc7\u0131x\u0131\u015f",Users:"\u0130stifad\u0259\xe7il\u0259r",Next:"sonrak\u0131 >",Previous:"< \u0259vv\u0259lki","Load Failure":"List\u0259l\u0259nm\u0259 u\u011fursuz oldu","User not found":"\u0130stifad\u0259\xe7i tap\u0131lmad\u0131",Edit:"D\xfcz\u0259li\u015f et","Change Display Name":"Logini d\u0259yi\u015f",Save:"Yadda Saxla",Cancel:"L\u0259\u011fv Et","My Profile":"Hesab\u0131m","There are no hoaxes":"Hoax bulunamad\u0131","Load old hoaxes":"Ge\xe7mi\u015f Hoaxlar\u0131 getir","There are new hoaxes":"Yeni Hoaxlar var","Delete Hoax":"Hoax'u sil","Are you sure to delete hoax?":"Hoax'u silmek isted\u011finizden emin misiniz?","Delete My Account":"Hesab\u0131m\u0131 Sil","Are you sure to delete your account?":"Hesab\u0131n\u0131z\u0131 silmek istedi\u011finizden emin misiniz?"}}},fallbackLng:"en",ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});Object(l.b)("tr",(function(e,a){return[["az \xf6nce","\u015fimdi"],["%s saniye \xf6nce","%s saniye i\xe7inde"],["1 dakika \xf6nce","1 dakika i\xe7inde"],["%s dakika \xf6nce","%s dakika i\xe7inde"],["1 saat \xf6nce","1 saat i\xe7inde"],["%s saat \xf6nce","%s saat i\xe7inde"],["1 g\xfcn \xf6nce","1 g\xfcn i\xe7inde"],["%s g\xfcn \xf6nce","%s g\xfcn i\xe7inde"],["1 hafta \xf6nce","1 hafta i\xe7inde"],["%s hafta \xf6nce","%s hafta i\xe7inde"],["1 ay \xf6nce","1 ay i\xe7inde"],["%s ay \xf6nce","%s ay i\xe7inde"],["1 y\u0131l \xf6nce","1 y\u0131l i\xe7inde"],["%s y\u0131l \xf6nce","%s y\u0131l i\xe7inde"]][a]}));i.a;var u=t(1),m=t.n(u),d=t(6),p=t(19),f=t(7),b=t(2),v=function(e){var a=e.label,t=e.error,n=e.name,c=e.onChange,s=e.type,i=e.defaultValue,o="form-control";return"file"===s&&(o+="-file"),void 0!==t&&(o+=" is-invalid"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,a),r.a.createElement("input",{className:o,name:n,onChange:c,type:s,defaultValue:i}),r.a.createElement("div",{className:"invalid-feedback"},e.error))},g=function(e){var a=e.onClick,t=e.pendingApiCall,n=e.disabled,c=e.text,s=e.className;return r.a.createElement("button",{className:s||"btn-block btn btn-primary",onClick:a,disabled:n},t&&r.a.createElement("span",{className:"spinner-border spinner-border-sm"})," ",c)},E=t(4),h=t.n(E),y=function(e,a,t){var r=Object(n.useState)(!1),c=Object(b.a)(r,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){var n,r,c=function(n,r,c){n===e&&(t&&r===a?i(c):!t&&r.startsWith(a)&&i(c))};return n=h.a.interceptors.request.use((function(e){var a=e.url,t=e.method;return c(t,a,!0),e})),r=h.a.interceptors.response.use((function(e){var a=e.config,t=a.url,n=a.method;return c(n,t,!1),e}),(function(e){var a=e.config,t=a.url,n=a.method;throw c(n,t,!1),e})),function(){h.a.interceptors.request.eject(n),h.a.interceptors.response.eject(r)}}),[a,e,t]),s},N=t(8),O=function(e){var a=e.isLoggedIn,t=e.token;if(a){var n="Bearer ".concat(t);h.a.defaults.headers.Authorization=n}else delete h.a.defaults.headers.Authorization},j=function(e){return h.a.get("/api/1.0/users/".concat(e))},w=function(e,a){return h.a.put("/api/1.0/users/".concat(e),a)},x=function(e){return h.a.delete("/api/1.0/users/".concat(e))},k=function(e){return function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/1.0/logout");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:a({type:"logout-success"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(a){return e.apply(this,arguments)}}()},C=function(e){return{type:"login-success",payload:e}},S=function(e){return function(){var a=Object(d.a)(m.a.mark((function a(t){var n,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c=e,h.a.post("/api/1.0/auth",c);case 2:return n=a.sent,r=Object(f.a)({},n.data.user,{password:e.password,token:n.data.token}),t(C(r)),a.abrupt("return",n);case 6:case"end":return a.stop()}var c}),a)})));return function(e){return a.apply(this,arguments)}}()},L=function(e){return function(){var a=Object(d.a)(m.a.mark((function a(t){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r=e,h.a.post("/api/1.0/users",r);case 2:return n=a.sent,a.next=5,t(S(e));case 5:return a.abrupt("return",n);case 6:case"end":return a.stop()}var r}),a)})));return function(e){return a.apply(this,arguments)}}()},A=function(e){var a,t=Object(n.useState)({username:null,displayName:null,password:null,passwordRepeat:null}),c=Object(b.a)(t,2),s=c[0],i=c[1],l=Object(n.useState)({}),u=Object(b.a)(l,2),E=u[0],h=u[1],O=Object(N.b)(),j=function(e){var a=e.target,t=a.name,n=a.value;h((function(e){return Object(f.a)({},e,Object(p.a)({},t,void 0))})),i((function(e){return Object(f.a)({},e,Object(p.a)({},t,n))}))},w=function(){var a=Object(d.a)(m.a.mark((function a(t){var n,r,c,i,o,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n=e.history,r=n.push,c=s.username,i=s.displayName,o=s.password,l={username:c,displayName:i,password:o},a.prev=5,a.next=8,O(L(l));case 8:r("/user/".concat(c)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(5),a.t0.response.data.validationErrors&&h(a.t0.response.data.validationErrors);case 14:case"end":return a.stop()}}),a,null,[[5,11]])})));return function(e){return a.apply(this,arguments)}}(),x=Object(o.b)().t,k=E.username,C=E.displayName,S=E.password,A=y("post","/api/1.0/users"),D=y("post","/api/1.0/auth"),P=A||D;return s.password!==s.passwordRepeat&&(a=x("Password mismatch")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-6"},r.a.createElement("form",null,r.a.createElement("h1",{className:"text-center"},x("Sign Up")),r.a.createElement(v,{name:"username",label:x("Username"),error:k,onChange:j}),r.a.createElement(v,{name:"displayName",label:x("Display Name"),error:C,onChange:j}),r.a.createElement(v,{name:"password",label:x("Password"),error:S,onChange:j,type:"password"}),r.a.createElement(v,{name:"passwordRepeat",label:x("Password Repeat"),error:a,onChange:j,type:"password"}),r.a.createElement("div",{className:"text-center"},r.a.createElement(g,{onClick:w,disabled:P||void 0!==a,pendingApiCall:P,text:x("Sign Up")}))))))},D=function(e){var a=Object(n.useState)(),t=Object(b.a)(a,2),c=t[0],s=t[1],i=Object(n.useState)(),l=Object(b.a)(i,2),u=l[0],p=l[1],f=Object(n.useState)(),E=Object(b.a)(f,2),h=E[0],O=E[1],j=Object(N.b)();Object(n.useEffect)((function(){O(void 0)}),[c,u]);var w=function(){var a=Object(d.a)(m.a.mark((function a(t){var n,r,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n={username:c,password:u},r=e.history,s=r.push,O(void 0),a.prev=5,a.next=8,j(S(n));case 8:s("/user/".concat(c)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(5),O(a.t0.response.data.message);case 14:case"end":return a.stop()}}),a,null,[[5,11]])})));return function(e){return a.apply(this,arguments)}}(),x=Object(o.b)().t,k=y("post","/api/1.0/auth"),C=c&&u;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-6 "},r.a.createElement("form",{action:"../dashoard"},r.a.createElement("h1",{className:"text-center"},x("Login")),r.a.createElement(v,{label:x("Username"),onChange:function(e){return s(e.target.value)}}),r.a.createElement(v,{label:x("Password"),type:"password",onChange:function(e){return p(e.target.value)}}),h&&r.a.createElement("div",{className:"alert alert-danger"},"\u0130stifad\u0259\xe7i Ad\u0131 v\u0259 ya \u015eifr\u0259 yanl\u0131\u015fd\u0131r!"),r.a.createElement("div",{className:"text-center "},r.a.createElement(g,{onClick:w,disabled:!C||k,pendingApiCall:k,text:x("Login")}))))))},P=function(e){var a=Object(o.b)().i18n,t=function(e){a.changeLanguage(e),function(e){h.a.defaults.headers["accept-language"]=e}(e)};return r.a.createElement("div",{className:"container"},r.a.createElement("img",{alt:"Aze Flag",onClick:function(){return t("aze")},style:{cursor:"pointer"}}),r.a.createElement("img",{alt:"USA Flag",onClick:function(){return t("en")},style:{cursor:"pointer"}}))},U=t(18),z=t(30),I=t.n(z),H=function(e){var a=e.image,t=e.tempimage,n=I.a;return a&&(n="images/profile/"+a),r.a.createElement("img",Object.assign({alt:"Profile",src:t||n},e,{onError:function(e){e.target.src=I.a}}))},M=function(e){var a=e.visible,t=e.onClickCancel,n=e.message,c=e.onClickOk,s=e.pendingApiCall,i=e.title,l=e.okButton,u=Object(o.b)().t,m="modal fade";return a&&(m+=" show d-block"),r.a.createElement("div",{className:m,style:{backgroundColor:"#000000b0"}},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},i)),r.a.createElement("div",{className:"modal-body"},n),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-secondary",disabled:s,onClick:t},u("Cancel")),r.a.createElement(g,{className:"btn btn-danger",onClick:c,pendingApiCall:s,disabled:s,text:l})))))},R=function(e){var a=Object(n.useState)(!1),t=Object(b.a)(a,2),c=t[0],s=t[1],i=Object(n.useState)(),l=Object(b.a)(i,2),u=l[0],p=l[1],E=Object(N.c)((function(e){return{username:e.username}})).username,h=Object(U.h)().username,O=Object(n.useState)({}),j=Object(b.a)(O,2),C=j[0],S=j[1],L=Object(n.useState)(!1),A=Object(b.a)(L,2),D=A[0],P=A[1],z=Object(n.useState)(),I=Object(b.a)(z,2),R=I[0],T=I[1],F=Object(n.useState)({}),_=Object(b.a)(F,2),B=_[0],V=_[1],W=Object(n.useState)(!1),q=Object(b.a)(W,2),J=q[0],X=q[1],Y=Object(N.b)(),G=Object(U.g)();Object(n.useEffect)((function(){S(e.user)}),[e.user]),Object(n.useEffect)((function(){P(h===E)}),[h,E]),Object(n.useEffect)((function(){V((function(e){return Object(f.a)({},e,{displayName:void 0})}))}),[u]),Object(n.useEffect)((function(){V((function(e){return Object(f.a)({},e,{image:void 0})}))}),[R]);var K=C.username,Q=C.displayName,$=C.image,Z=y("delete","/api/1.0/users/".concat(K),!0),ee=Object(o.b)().t;Object(n.useEffect)((function(){c?p(Q):(p(void 0),T(void 0))}),[c,Q]);var ae=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R&&(a=R.split(",")[1]),t={displayName:u,image:a},e.prev=2,e.next=5,w(K,t);case 5:n=e.sent,s(!1),S(n.data),Y({type:"update-success",payload:{displayName:(r=n.data).displayName,image:r.image}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),V(e.t0.response.data.validationErrors);case 14:case"end":return e.stop()}var r}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(K);case 2:X(!1),Y(k()),G.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=y("put","/api/1.0/users/"+K),re=B.displayName,ce=B.image;return r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-header"},r.a.createElement(H,{className:"rounded-circle shadow",width:"200",height:"200",alt:"".concat(K," profile"),image:$,tempimage:R})),r.a.createElement("div",{className:"card-body"},!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,Q,"@",K),D&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-success d-inline-flex",onClick:function(){return s(!0)}},r.a.createElement("i",{className:"material-icons"},"edit"),ee("Edit")),r.a.createElement("div",{className:"pt-2"}))),c&&r.a.createElement("div",null,r.a.createElement(v,{label:ee("Change Display Name"),defaultValue:Q,onChange:function(e){p(e.target.value)},error:re}),r.a.createElement(v,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var a=e.target.files[0],t=new FileReader;t.onloadend=function(){T(t.result)},t.readAsDataURL(a)}},error:ce}),r.a.createElement("div",null,r.a.createElement(g,{className:"btn btn-primary d-inline-flex",onClick:ae,disabled:ne,pendingApiCall:ne,text:r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"save"),ee("Save"))}),r.a.createElement("button",{className:"btn btn-light d-inline-flex ml-1",onClick:function(){return s(!1)},disabled:ne},r.a.createElement("i",{className:"material-icons"},"close"),ee("Cancel"))))),r.a.createElement(M,{visible:J,title:ee("Delete My Account"),okButton:ee("Delete My Account"),onClickCancel:function(){X(!1)},onClickOk:te,message:ee("Are you sure to delete your account?"),pendingApiCall:Z}))},T=function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-black-50"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},F=(t(16),t(12)),_=function(){var e=Object(n.useState)({}),a=Object(b.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(!1),i=Object(b.a)(s,2),l=i[0],u=i[1],p=Object(U.h)().username,f=Object(o.b)().t,v=y("get","/api/1.0/users/"+p,!0);return Object(n.useEffect)((function(){u(!1)}),[t]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(p);case 3:a=e.sent,c(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[p]),l?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"alert alert-danger text-center"},r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons",style:{fontSize:"48px"}},"error")),f("User not found"))):v||t.username!==p?r.a.createElement(T,null):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(R,{user:t})),r.a.createElement("div",{className:"col"})))},B=(t(89),function(e){var a=Object(o.b)().t,t=Object(N.c)((function(e){return{isLoggedIn:e.isLoggedIn,username:e.username,displayName:e.displayName,image:e.image}})),c=t.username,s=t.isLoggedIn,i=t.displayName,l=t.image,u=Object(n.useRef)(null),m=Object(n.useState)(!1),d=Object(b.a)(m,2),p=d[0],f=d[1];Object(n.useEffect)((function(){return document.addEventListener("click",v),function(){document.removeEventListener("click",v)}}),[s]);var v=function(e){null!==u.current&&u.current.contains(e.target)||f(!1)},g=Object(N.b)(),E=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",null,r.a.createElement(F.b,{className:"nav-link",to:"/login"},a("Login"))),r.a.createElement("li",null,r.a.createElement(F.b,{className:"nav-link",to:"/signup"},a("Sign Up"))));if(s){var h="dropdown-menu p-0 shadow";p&&(h+=" show"),E=r.a.createElement("ul",{className:"navbar-nav ml-auto",ref:u},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("div",{className:"d-flex",style:{cursor:"pointer"},onClick:function(){return f(!0)}},r.a.createElement(H,{image:l,width:"32",height:"32",className:"rounded-circle m-auto"}),r.a.createElement("span",{className:"nav-link dropdown-toggle"},i)),r.a.createElement("div",{className:h},r.a.createElement(F.b,{className:"dropdown-item d-flex p-2",to:"/user/".concat(c),onClick:function(){return f(!1)}},r.a.createElement("i",{className:"material-icons text-info mr-2"},"person"),a("My Profile")),r.a.createElement("span",{className:"dropdown-item  d-flex p-2",onClick:function(){g(k())},style:{cursor:"pointer"}},r.a.createElement("i",{className:"material-icons text-danger mr-2"},"power_settings_new"),a("Logout")))))}return r.a.createElement("div",{className:"shadow-sm bg-light mb-2"},r.a.createElement("nav",{className:"navbar navbar-light container navbar-expand"},r.a.createElement(F.b,{className:"navbar-brand",to:"/"},a("Teacher Portal")),E))}),V=function(){var e=Object(N.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(B,null),r.a.createElement(U.d,null,!e&&r.a.createElement(U.b,{path:"/login",component:D}),!e&&r.a.createElement(U.b,{path:"/signup",component:A}),e?r.a.createElement(U.b,{path:"/user/:username",component:_}):r.a.createElement(U.b,{path:"/",component:D}),!e&&r.a.createElement(U.b,{path:"/user/:username",component:_}),r.a.createElement(U.a,{to:"/"}))),r.a.createElement(P,null))},W=t(22),q=t(49),J={isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(f.a)({},J),a=arguments.length>1?arguments[1]:void 0;return"logout-success"===a.type?J:"login-success"===a.type?Object(f.a)({},a.payload,{isLoggedIn:!0}):"update-success"===a.type?Object(f.a)({},e,{},a.payload):e},Y=t(50),G=new(t.n(Y).a),K=function(){var e=function(){var e=G.get("hoax-auth");return e||{isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0}}();O(e);var a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.c,t=Object(W.d)(X,e,a(Object(W.a)(q.a)));return t.subscribe((function(){var e;e=t.getState(),G.set("hoax-auth",e),O(t.getState())})),t}();s.a.render(r.a.createElement(N.a,{store:K},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.ffecf26d.chunk.js.map